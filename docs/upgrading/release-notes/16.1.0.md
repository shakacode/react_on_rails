# React on Rails 16.1.x Release Notes

## Upgrading from 16.0.x to 16.1.x

Update your gem and npm package versions:

```ruby
# Gemfile
gem "react_on_rails", "16.1.1"
gem "shakapacker", "8.2.0"
```

```json
// package.json
{
  "dependencies": {
    "react-on-rails": "16.1.1",
    "shakapacker": "8.2.0"
  }
}
```

Then run `bundle install` and your package manager's install command.

**Important:** The shakapacker gem and npm package versions must match exactly.

## New Features in v16.1.0

### Doctor Rake Task

New diagnostic command for troubleshooting setup issues:

```bash
rake react_on_rails:doctor
VERBOSE=true rake react_on_rails:doctor  # For detailed output
```

### Server Bundle Security

New configuration options for enhanced server bundle security:

```ruby
# config/initializers/react_on_rails.rb
ReactOnRails.configure do |config|
  # Directory for server bundle output (default: "ssr-generated")
  config.server_bundle_output_path = "ssr-generated"

  # When enabled, server bundles only load from private directories
  config.enforce_private_server_bundles = true
end
```

### Generator Improvements

- Modern TypeScript patterns with better type inference
- Optimized tsconfig.json with `"moduleResolution": "bundler"`
- Enhanced Redux TypeScript integration
- Smart `bin/dev` defaults

## Bug Fixes

### v16.1.1

- Fixed RSC manifest file path resolution ([PR 1818](https://github.com/shakacode/react_on_rails/pull/1818))

### v16.1.0

- Fixed LoadError in `rake react_on_rails:doctor` when using packaged gem
- Fixed packs generator error when `server_bundle_js_file` is empty
- Fixed NoMethodError in environments without Shakapacker
- Fixed inconsistent Shakapacker version requirements

## Deprecations

Remove `config.generated_assets_dirs` from your configuration - asset paths are now automatically determined from `shakapacker.yml`.

## Related Resources

- [Changelog](https://github.com/shakacode/react_on_rails/blob/master/CHANGELOG.md)
- [Configuration Reference](../../api-reference/configuration.md)
